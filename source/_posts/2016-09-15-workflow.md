---
title: 我的工作流
tags: [workflow]
---

基本流程：
`文档收集` -> `任务分配` -> `代码实现` -> `质量保证` -> `自动化部署` -> `线上监控`

# 文档收集
- 需求文档（需要有业务流程）
- 整体架构设计
- 功能模块概要、详细
- 根据功能写出测试用例

| 功能名称 | 用例名称 | 测试数据 | 前置条件 | 操作步骤 | 预期结果 | 测试结果 | 备注 | review说明 |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
    
- 数据模型（表，模型）
- API 文档（未开始实现前的文档，精确到输入输出，实际中开发可略微调整）
- 部署文档
- 发布 changelog

<!-- more -->

# 任务分配和管理
1. 使用 `Omnifocus` 列出和归类任务
2. 使用 `OmniPlan` 制作计划进度
3. 使用 `Tower` 分配任务和跟踪
4. 日报，周报体系
5. 每日 5 分钟晨会制度

# 代码实现
- Git / Git Workflow
- 开发时 mock 前后端解除互相依赖
    - 前端方案：
        1. mockjs
        2. 后端提供静态数据，参考 [httpbin](https://blog.phpgao.com/how-to-httpbin.html)
    - 后端方案：
        1. 写测试用例，比如 rspec
        2. 使用 postman 模拟 api 请求
- 提高技术
    - RD Wiki 和 Blog（分享经验和新技术）
    - 参与开源项目
    - 定期黑客马拉松

# 质量保证
- 目标
    - 保证代码（规范，源代码分析，单元测试）
    - 保证功能（集成测试）
    - 保证性能（压力测试）
- 制度
    - 结对编程
    - code review
    - PR（pull request）
- 测试工具
    - postman
    - App bug管理：[bugtags](https://www.bugtags.com/)
    - apache ab
    - ruby rspec
- 上线确认

| - | 2.11 版本上线确认书 | - |
| --- | --- | --- |
| 需求确认 | 意见： | 确认人：[由各个负责人签字] |
| 开发确认 | 意见： | 确认人： |
| 测试确认 | 意见： | 确认人： |
| 服务器改动 | 服务器应用配置和重启哪些服务器 | 确认人： |
| 服务器硬件配置 | [是否需要增加新的服务器ip,是否需要修改 nginx，是否新装软件，是否新建域名？]	 | 确认人： |
| 数据库更改 | [是否需要修改线上数据库？是否有初始化语句] | 确认人： |
| 数据初始化 | [是否有初始化数据？如价格，默认分类等] | 确认人： |
| 上线评审结论 | [ ] 通过 <br/> [ ] 未通过，不能上线 <br/> [ ] 未通过，但修改完制定Bug后可直接上线 | 确认人： |
| 计划上线时间 | 2016-08-01 | - |

# 自动化部署
- 总流程
    - 配置
    - 编译
    - 压缩混淆
    - 打包整个部署文件，并上传到版本库
    - 更新远程
    - 重启服务
- 客户端
    - ios / android 打包上传
    - weixin / web-pages 部署更新
- 服务器
    - 配置重启
    - 是否有新的服务提供

# 线上检测
- 信息收集
    - 青云中系统预警系统等的硬件检测
    - oneapm，relic 等应用监测
    - BugHD 等 bug 收集
    - 收集客户端网络链路信息
    - 服务器 Log
- 修改
    - app 中的热修补
- 记录：把踩过的坑记下来

| - | 2016.08.01xxx故障总结 |
| --- | --- |
| 故障等级 | [故障等级] |
| 故障描述 | [描述故障发生的现象]	|
| 故障发现时间及发现人 | [xxx于xxxx年xx月xx日 HH:mm 如何发现该问题。] |
| 故障影响 | [影响时间范围、影响版本范围、影响产品范围] |
| 故障原因 | [阐述故障发生的原因]	|
| 解决方案 | [详细记录如何解决此次的故障] |
| 故障教训 | [如何避免下次出现类似的事故] |


---------- EOF ----------



